:root{
  --bg: #000000;
  --thin-color: #ccc;          /* bright gray for thin lines */
  --thin-w: 0.5px;            /* thin line width */
  --cell: 40px;               /* cell size */
  --offset: calc(var(--cell) / 2); /* half-cell offset */
  --thick-color: #888;        /* guide line color */
  --thick-step: calc(var(--cell) * 5); /* every 5 cells */
  --thick-w: 1.5px;           /* guide line width */
}

html, body {
  height: 100%;
  margin: 0;
}

body{
  background-color: var(--bg);

  /* layer order:
     1) thick vertical (under)
     2) thick horizontal (under)
     3) thin vertical (on top)
     4) thin horizontal (on top)
  */
  background-image:
    /* thick vertical lines every --thick-step */
    repeating-linear-gradient(
      to right,
      transparent 0,
      transparent calc(var(--thick-step) - (var(--thick-w) / 2)),
      var(--thick-color) calc(var(--thick-step) - (var(--thick-w) / 2)),
      var(--thick-color) calc(var(--thick-step) + (var(--thick-w) / 2))
    ),
    /* thick horizontal lines every --thick-step */
    repeating-linear-gradient(
      to bottom,
      transparent 0,
      transparent calc(var(--thick-step) - (var(--thick-w) / 2)),
      var(--thick-color) calc(var(--thick-step) - (var(--thick-w) / 2)),
      var(--thick-color) calc(var(--thick-step) + (var(--thick-w) / 2))
    ),
    /* thin vertical lines every --cell */
    repeating-linear-gradient(
      to right,
      var(--thin-color) 0,
      var(--thin-color) var(--thin-w),
      transparent var(--thin-w),
      transparent var(--cell)
    ),
    /* thin horizontal lines every --cell */
    repeating-linear-gradient(
      to bottom,
      var(--thin-color) 0,
      var(--thin-color) var(--thin-w),
      transparent var(--thin-w),
      transparent var(--cell)
    );

  /* offset all layers by half a cell so lines start centered */
  background-position:
    var(--offset) var(--offset),
    var(--offset) var(--offset),
    var(--offset) var(--offset),
    var(--offset) var(--offset);

  /* make sure background fills viewport */
  background-repeat: repeat;
}
