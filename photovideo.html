<link rel="stylesheet" href="pv.css">

<!-- Code adapted from "CSS Grid Layout #1: Responsive Masonry
" by Saief Al Emon on CodePen: https://codepen.io/iamsaief/pen/jObaoKo -->


<nav class="navbar">
	<a class="logo" href="index.html">
		<img
			src="/images/title-w.png"
			srcset="/images/title-w.png 1x, /images/title-w.png 2x"
			alt="Everette Xue"
			class="logo-img"
			loading="lazy"
			width="60"
			height="40"
		/>
	</a>
	<div class="links">
		<a href="photovideo.html" aria-current="page">Photos &amp; Videos</a>
		<a href="index.html#about">About</a>
		<a href="index.html#contact">Contact</a>
	</div>
</nav>


<div id="pv-preloader" class="pv-preloader" role="status" aria-live="polite" aria-busy="true">
	<div class="pv-spinner" aria-hidden="true"></div>
	<p class="pv-preloader-text">Loading gallery...</p>
</div>


<div class="grid-wrapper">
	<div class="big" data-categories="other">
		<img src="https://www.dropbox.com/scl/fi/pb7xu9yii9ewdwvgrmbt1/minewide-min.JPG?rlkey=mes6jfd1mdgnzpi5osrp8ffv2&st=xc5t95ia&dl=1" alt="" />
	</div>

	<div data-categories="cats">
		<img src="https://www.dropbox.com/scl/fi/imnusbw9hv6nez2i7gtcn/catsleep-min.JPG?rlkey=wn8us850z2wd1jdeikm0gcr80&st=h2qh91c9&dl=1" alt="" />
	</div>
	
	    <script>
	(function () {
		'use strict';

		function initPreloader() {
			const preloader = document.getElementById('pv-preloader');
			const grid = document.querySelector('.grid-wrapper');
			if (!preloader || !grid) return;

			document.body.classList.add('pv-preloading');

			const images = Array.from(grid.querySelectorAll('img'));
			let pending = images.length;
			let finished = false;
			const statusText = preloader.querySelector('.pv-preloader-text');
			const total = pending;

			function updateStatus() {
				if (!statusText || !total) return;
				const loaded = Math.max(total - pending, 0);
				const percent = Math.min(Math.round((loaded / total) * 100), 100);
				statusText.textContent = percent >= 100 ? 'Preparing gallery...' : `Loading gallery... ${percent}%`;
			}

			function finalize() {
				if (finished) return;
				finished = true;
				if (statusText) statusText.textContent = 'Gallery ready';
				preloader.setAttribute('aria-busy', 'false');
				preloader.setAttribute('aria-live', 'off');
				document.body.classList.add('pv-gallery-ready');
				document.body.classList.remove('pv-preloading');
				requestAnimationFrame(() => {
					preloader.classList.add('is-hidden');
					setTimeout(() => {
						if (preloader.parentNode) preloader.parentNode.removeChild(preloader);
					}, 600);
				});
			}

			if (!pending) {
				finalize();
				return;
			}

			const handleAssetSettled = () => {
				pending -= 1;
				updateStatus();
				if (pending <= 0) finalize();
			};

			images.forEach((img) => {
				if (img.complete && img.naturalWidth > 0) {
					handleAssetSettled();
					return;
				}
				img.addEventListener('load', handleAssetSettled, { once: true });
				img.addEventListener('error', handleAssetSettled, { once: true });
			});

			updateStatus();
			setTimeout(finalize, 8000);
		}

		function initNavbar() {
			const navbar = document.querySelector('.navbar');
			if (!navbar) return;

			const threshold = 160;
			let ticking = false;

			function applyState() {
				const shouldCondense = window.scrollY > threshold;
				navbar.classList.toggle('is-condensed', shouldCondense);
				ticking = false;
			}

			applyState();

			window.addEventListener('scroll', () => {
				if (!ticking) {
					window.requestAnimationFrame(applyState);
					ticking = true;
				}
			});
		}

		function onReady() {
			initPreloader();
			initNavbar();
		}

		if (document.readyState === 'loading') {
			document.addEventListener('DOMContentLoaded', onReady, { once: true });
		} else {
			onReady();
		}
	})();
	    </script>
	<div class="tall" data-categories="cats">
		<img src="https://www.dropbox.com/scl/fi/1ggl1t58f8chuix210q7d/IMG_5728.jpg?rlkey=w7ws2g131wntkjkcd57c07e54&st=k4dkl4w2&dl=1" alt="">
	</div>
	<div class="wide" data-categories="other">
		<img src="https://www.dropbox.com/scl/fi/jzck6g7qko45mlf4qa4cz/mines-min.png?rlkey=kz93tol4n883k41x8l1rru7wl&st=fmj83o6j&dl=1" alt="" />
	</div>
	<div data-categories="cats">
		<img src="https://www.dropbox.com/scl/fi/o33zjdt1wziyicouk4kox/catflip-min.JPG?rlkey=6y56md164plvfxykhay4rq4ew&st=03nokw7h&dl=1" alt="" />
	</div>
	<div class="tall" data-categories="cats">
		<img src="https://www.dropbox.com/scl/fi/wfjxhgcjsls09bfswrynz/IMG_5962.JPG?rlkey=mm7ash1ik9preqoe3tgby878c&st=txqfyi7d&dl=1" alt="" />
	</div>
	<div class="tall" data-categories="cats">
		<img src="https://www.dropbox.com/scl/fi/kxwgihsnat2d0nt30otiy/looking.JPG?rlkey=bhjkyumwkkr3r65an42281y77&st=p49u1qqn&dl=1" alt="" />
	</div>
	<div class="tall" data-categories="cats">
		<img src="https://www.dropbox.com/scl/fi/v8bj40uopw6s85ao2ebf1/IMG_4471.JPG?rlkey=npbxsn8d6sy9ayurizi1b60r7&st=ku6v4kqy&dl=1" alt="" />
	</div>
	<div class="big" data-categories="iceland travel">
		<img src="https://www.dropbox.com/scl/fi/pm1itln25gmtiku86xgkn/IMG_0523.JPG?rlkey=sr0i5iws201iyutwvd8gpw3z5&st=7waimq95&dl=1" alt="" />
	</div>
	<div data-categories="iceland travel portraits">
		<img src="https://www.dropbox.com/scl/fi/dagzxerlysc5yo0jdit73/IMG_8690.JPG?rlkey=00zwjchfsuvlvribtnzv51cgh&st=copva9pn&dl=1" alt="" />
	</div>
	<div class="tall" data-categories="iceland travel portraits">
		<img src="https://www.dropbox.com/scl/fi/t18bo0wv21o8cf4ck18c4/IMG_0027.JPG?rlkey=eubbifnv9qpttn0iksx5w4lgd&st=g0jkcv7d&dl=1" alt="" />
	</div>
	<div class="tall" data-categories="iceland travel">
		<img src="https://www.dropbox.com/scl/fi/zu2lyyy90hp8apxmp48er/IMG_0107.jpg?rlkey=fygib2vm183g1707ae3y3zyvy&st=v6yx1ree&dl=1" alt="" />
	</div>
	
</div>

    <script src="pv-lightbox.js"></script>
